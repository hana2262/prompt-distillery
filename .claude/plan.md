# Plan - Prompt Distillery V2

## 项目概述
- **目标**: 开发一款带 AI 整理功能的 Prompt 桌面工具
- **技术栈**: Electron + Vue 3 (CDN) + Tailwind CSS + localStorage
- **交付物**: Windows .exe 安装包 (NSIS)

---

## 里程碑计划

### M1: 基础框架
- [x] 1.1 安装并配置 electron-forge
- [x] 1.2 创建主进程入口 (src/main/index.js)
- [x] 1.3 创建 preload.js，配置 ContextBridge
- [x] 1.4 创建渲染进程入口 (src/renderer/index.html, app.js)
- [x] 1.5 配置 Tailwind CSS
- [x] 1.6 实现三种窗口模式 (Mini/Standard/Editor)
- [x] 1.7 窗口位置记忆功能
- [x] 1.8 验证应用可启动运行

### M2: 剪贴板功能
- [x] 2.1 实现剪贴板监听服务
- [x] 2.2 手动输入/粘贴功能
- [x] 2.3 监听开关 UI
- [x] 2.4 敏感词过滤规则
- [x] 2.5 监听状态指示器

### M3: 模板管理
- [x] 3.1 设计 localStorage 数据结构
- [x] 3.2 模板 CRUD 操作
- [x] 3.3 模板列表展示 (支持搜索、分类)
- [x] 3.4 模板变量解析与填空表单
- [x] 3.5 一键复制功能
- [x] 3.6 最近使用/置顶功能

### M4: AI 分析
- [x] 4.1 查重检测算法
- [x] 4.2 合并逻辑实现
- [x] 4.3 自动标签功能
- [x] 4.4 Diff 对比视图
- [x] 4.5 版本历史功能

### M5: 完善优化
- [x] 5.1 系统托盘集成
- [x] 5.2 全局快捷键
- [x] 5.3 导航与回退逻辑
- [x] 5.4 ESC 键行为
- [x] 5.5 个性化主题 (背景、主题色)
- [x] 5.6 设置页面 (抽屉式/侧边栏)
- [x] 5.7 撤销/草稿机制
- [x] 5.8 Toast 通知系统
- [x] 5.9 长文本处理优化
- [x] 5.10 Tab Index 管理

### M6: 打包发布
- [ ] 6.1 配置 electron-forge 打包
- [ ] 6.2 生成 Windows .exe 安装包
- [ ] 6.3 测试安装与运行

---

## 关键技术决策

| 项目 | 决策 |
|------|------|
| 打包工具 | electron-forge |
| 构建命令 | npm run make |
| 输出目录 | out/ |
| 安装包格式 | .exe (NSIS) |

---

## 已完成

- [x] 2026-02-25: 初始化项目文档基础设施
- [x] 2026-02-25: 完成 PRD (含 13 个 UX 章节)
- [x] 2026-02-25: 添加交付物要求 (M6)
- [x] 2026-02-25: M1 基础框架 (electron-forge, 主进程, 渲染进程, 三种窗口模式)
- [x] 2026-02-26: M2 剪贴板功能 (监听服务、敏感词过滤、状态指示器)
- [x] 2026-02-26: M3 模板管理 (CRUD、变量解析、分类搜索)
- [x] 2026-02-27: M4 AI 分析 (查重、合并、自动标签、Diff、历史)
- [x] 2026-02-27: M5 完善优化 (托盘、快捷键、导航、主题、草稿、Toast、长文本优化、Tab)
